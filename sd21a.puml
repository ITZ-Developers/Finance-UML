@startuml SQ
autonumber
title SD21a. Tạo ghi chú
actor "Actor" as actor
boundary "NoteView" as view
boundary "NoteCreateView" as createView
control "NoteController" as controller
entity "NoteRepository" as model
database "Database" as database
activate actor
actor -> view : click create button
activate view
view -> createView: redirect to create page
activate createView
actor -> createView: enter data...
deactivate actor
createView -> controller : call api POST /create
activate controller
controller -> model : inject repository
activate model
model -> database : NoteRepository.save(note)
activate database
database --> model : callback
deactivate database
model --> controller : callback
deactivate model
controller --> createView : return message
deactivate controller
createView -> createView : display message
createView -> view : redirect to list page
deactivate createView
view -> controller : call api GET /list
activate controller
controller -> model : inject repository
activate model
model -> database : NoteRepository.findAll()
activate database
database --> model : return data
deactivate database
model --> controller : return list notes
deactivate model
controller --> view : return list notes
deactivate controller
view -> view: update display
activate view
deactivate view
deactivate view
@enduml